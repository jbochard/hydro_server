Writing PID to hydro_server.9390.pid
Exiting!
/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require': /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:103: syntax error, unexpected tSYMBEG, expecting '}' (SyntaxError)
    			:url => sensor["url"]
    			 ^
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:104: syntax error, unexpected =>, expecting keyword_end
    			:measures => sensor["measures"].select { ...
    			            ^
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:105: syntax error, unexpected '}', expecting keyword_end
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:109: syntax error, unexpected end-of-input, expecting keyword_end
	from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require'
	from ./lib/config.ru:17:in `block in <main>'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'
	from ./lib/config.ru:1:in `new'
	from ./lib/config.ru:1:in `<main>'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `eval'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `load'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:182:in `load_rackup_config'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:72:in `start'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:200:in `run_command'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:156:in `run!'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/bin/thin:6:in `<top (required)>'
	from /usr/local/bin/thin:23:in `load'
	from /usr/local/bin/thin:23:in `<main>'
Writing PID to hydro_server.9390.pid
Exiting!
/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require': /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:103: syntax error, unexpected tSYMBEG, expecting '}' (SyntaxError)
    			:url => sensor["url"]
    			 ^
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:104: syntax error, unexpected =>, expecting keyword_end
    			:measures => sensor["measures"].select { ...
    			            ^
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:105: syntax error, unexpected '}', expecting keyword_end
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:109: syntax error, unexpected end-of-input, expecting keyword_end
	from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require'
	from ./lib/config.ru:17:in `block in <main>'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'
	from ./lib/config.ru:1:in `new'
	from ./lib/config.ru:1:in `<main>'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `eval'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `load'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:182:in `load_rackup_config'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:72:in `start'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:200:in `run_command'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:156:in `run!'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/bin/thin:6:in `<top (required)>'
	from /usr/local/bin/thin:23:in `load'
	from /usr/local/bin/thin:23:in `<main>'
Writing PID to hydro_server.9390.pid
D, [2016-02-18T09:06:31.511786 #99372] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:06:31.521629 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"configuration", "filter"=>{"key"=>"plant_code"}}
D, [2016-02-18T09:06:31.523167 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001213s
D, [2016-02-18T09:06:31.523667 #99372] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:06:31.531839 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"plant_types", "filter"=>{}}
D, [2016-02-18T09:06:31.533216 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001017s
D, [2016-02-18T09:06:31.533678 #99372] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:06:31.535582 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"mesurements", "filter"=>{}}
D, [2016-02-18T09:06:31.536594 #99372] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000812s
D, [2016-02-18T09:06:31.537025 #99372] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:06:31.538521 #99372] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
Exiting!
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:9:in `initialize': wrong number of arguments (0 for 2) (ArgumentError)
	from ./lib/config.ru:34:in `new'
	from ./lib/config.ru:34:in `block (2 levels) in <main>'
	from /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/implementation.rb:7:in `call'
	from /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/implementation.rb:7:in `register'
	from ./lib/config.ru:28:in `block in <main>'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'
	from ./lib/config.ru:1:in `new'
	from ./lib/config.ru:1:in `<main>'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `eval'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `load'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:182:in `load_rackup_config'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:72:in `start'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:200:in `run_command'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:156:in `run!'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/bin/thin:6:in `<top (required)>'
	from /usr/local/bin/thin:23:in `load'
	from /usr/local/bin/thin:23:in `<main>'
Writing PID to hydro_server.9390.pid
D, [2016-02-18T09:07:20.129269 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:07:20.132926 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"configuration", "filter"=>{"key"=>"plant_code"}}
D, [2016-02-18T09:07:20.143465 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.00995s
D, [2016-02-18T09:07:20.144272 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:07:20.147542 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"plant_types", "filter"=>{}}
D, [2016-02-18T09:07:20.150228 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.002268s
D, [2016-02-18T09:07:20.150600 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:07:20.152289 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"mesurements", "filter"=>{}}
D, [2016-02-18T09:07:20.154987 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.002463s
D, [2016-02-18T09:07:20.155635 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:07:20.158052 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:07:20.159673 #99776] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
Iniciando servidor...
Acceda al servidor web a traves de: servidor.davinci.lan/web
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:9390, CTRL+C to stop
D, [2016-02-18T09:08:00.135159 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:08:00.169425 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.034015000000000004s
2016-02-18 09:08:07 - NoMethodError - undefined method `upcase' for nil:NilClass:
	/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/sensors.rb:24:in `get_all'
	/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/routes/sensors.rb:13:in `block (2 levels) in <top (required)>'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1611:in `block in compile!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `[]'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (3 levels) in route!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:994:in `route_eval'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:975:in `block (2 levels) in route!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1015:in `block in process_route'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `catch'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1013:in `process_route'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:973:in `block in route!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `each'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:972:in `route!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1085:in `block in dispatch!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1082:in `dispatch!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `block in call!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `block in invoke'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `catch'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1067:in `invoke'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:907:in `call!'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:895:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/logger.rb:15:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/commonlogger.rb:33:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:219:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:212:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/head.rb:13:in `call'
	/Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/methodoverride.rb:22:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/show_exceptions.rb:25:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:182:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:2013:in `call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1487:in `block in call'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1787:in `synchronize'
	/Library/Ruby/Gems/2.0.0/gems/sinatra-1.4.7/lib/sinatra/base.rb:1487:in `call'
	/Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/connection.rb:86:in `block in pre_process'
	/Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/connection.rb:84:in `catch'
	/Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/connection.rb:84:in `pre_process'
	/Library/Ruby/Gems/2.0.0/gems/eventmachine-1.0.9.1/lib/eventmachine.rb:1067:in `call'
	/Library/Ruby/Gems/2.0.0/gems/eventmachine-1.0.9.1/lib/eventmachine.rb:1067:in `block in spawn_threadpool'
D, [2016-02-18T09:09:00.050513 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:09:00.051642 #99776] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001015s
== Sinatra (v1.4.7) has taken the stage on 4567 for development with backup from Thin
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:4567, CTRL+C to stop
Writing PID to hydro_server.9390.pid
D, [2016-02-18T09:09:52.186982 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:09:52.189837 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"configuration", "filter"=>{"key"=>"plant_code"}}
D, [2016-02-18T09:09:52.198801 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.00842s
D, [2016-02-18T09:09:52.199373 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:09:52.201842 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"plant_types", "filter"=>{}}
D, [2016-02-18T09:09:52.203024 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.00086s
D, [2016-02-18T09:09:52.203336 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:09:52.205408 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"mesurements", "filter"=>{}}
D, [2016-02-18T09:09:52.207823 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001928s
D, [2016-02-18T09:09:52.208692 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:09:52.210941 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:09:52.213348 #1162] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
Iniciando servidor...
Acceda al servidor web a traves de: servidor.davinci.lan/web
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:9390, CTRL+C to stop
D, [2016-02-18T09:09:57.845998 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"sensors", "filter"=>{}, "projection"=>{"_id"=>1, "url"=>1}}
D, [2016-02-18T09:09:57.849245 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.00252s
127.0.0.1 - - [18/Feb/2016:09:09:57 -0300] "GET /sensors HTTP/1.1" 200 157 0.0138
D, [2016-02-18T09:10:00.102956 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:10:00.127415 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.024118s
D, [2016-02-18T09:10:59.007363 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"sensors", "filter"=>{}}
D, [2016-02-18T09:10:59.009627 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001653s
127.0.0.1 - - [18/Feb/2016:09:10:59 -0300] "GET /sensors?query=joined HTTP/1.1" 200 268 0.0073
D, [2016-02-18T09:11:00.305088 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:11:00.306709 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000979s
D, [2016-02-18T09:12:00.232371 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:12:00.234525 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001408s
D, [2016-02-18T09:12:55.861508 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"sensors", "filter"=>{}}
D, [2016-02-18T09:12:55.862564 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000771s
127.0.0.1 - - [18/Feb/2016:09:12:55 -0300] "GET /sensors?query=joined HTTP/1.1" 200 268 0.0040
D, [2016-02-18T09:13:00.095990 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:13:00.096968 #1162] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000764s
Waiting for 1 connection(s) to finish, can take up to 30 sec, CTRL+C to stop now
== Sinatra (v1.4.7) has taken the stage on 4567 for development with backup from Thin
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:4567, CTRL+C to stop
Writing PID to hydro_server.9390.pid
D, [2016-02-18T09:13:11.251213 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:13:11.257025 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"configuration", "filter"=>{"key"=>"plant_code"}}
D, [2016-02-18T09:13:11.259144 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001675s
D, [2016-02-18T09:13:11.260026 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:13:11.262107 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"plant_types", "filter"=>{}}
D, [2016-02-18T09:13:11.263486 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001148s
D, [2016-02-18T09:13:11.263926 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:13:11.265869 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"mesurements", "filter"=>{}}
D, [2016-02-18T09:13:11.266954 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000865s
D, [2016-02-18T09:13:11.267443 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:13:11.270607 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:13:11.275925 #2720] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
Iniciando servidor...
Acceda al servidor web a traves de: servidor.davinci.lan/web
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:9390, CTRL+C to stop
D, [2016-02-18T09:13:13.265022 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"sensors", "filter"=>{}}
D, [2016-02-18T09:13:13.266370 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.0011s
127.0.0.1 - - [18/Feb/2016:09:13:13 -0300] "GET /sensors?query=joined HTTP/1.1" 200 176 0.0077
D, [2016-02-18T09:14:00.270615 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:14:00.272301 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001407s
D, [2016-02-18T09:15:00.117396 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:15:00.119070 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001147s
D, [2016-02-18T09:16:00.281160 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:16:00.282233 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.0006839999999999999s
D, [2016-02-18T09:17:00.074255 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:17:00.075331 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000865s
D, [2016-02-18T09:18:00.252541 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:18:00.253418 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000655s
D, [2016-02-18T09:19:00.093751 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:19:00.095201 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001043s
D, [2016-02-18T09:20:00.248720 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:20:00.250642 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.00149s
D, [2016-02-18T09:21:00.134016 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:21:00.135237 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001108s
D, [2016-02-18T09:22:00.274685 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:22:00.276189 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001225s
D, [2016-02-18T09:23:00.105104 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:23:00.106612 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.0012020000000000002s
D, [2016-02-18T09:24:00.298092 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:24:00.299126 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000841s
D, [2016-02-18T09:25:00.110467 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:25:00.111846 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001042s
D, [2016-02-18T09:26:00.264583 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:26:00.265481 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.0006879999999999999s
D, [2016-02-18T09:27:00.082895 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:27:00.083959 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000719s
D, [2016-02-18T09:28:00.212213 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:28:00.213350 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000867s
D, [2016-02-18T09:29:00.095785 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:29:00.096595 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000658s
D, [2016-02-18T09:30:00.302797 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:30:00.303788 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000593s
D, [2016-02-18T09:31:00.220067 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:31:00.221776 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.001215s
D, [2016-02-18T09:32:00.118064 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"nurseries", "filter"=>{}, "projection"=>{"_id"=>1, "name"=>1, "type"=>1, "creation_date"=>1, "client_url"=>1}}
D, [2016-02-18T09:32:00.121187 #2720] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.0026839999999999998s
== Sinatra (v1.4.7) has taken the stage on 4567 for development with backup from Thin
Thin web server (v1.6.4 codename Gob Bluth)
Maximum connections set to 1024
Listening on 0.0.0.0:4567, CTRL+C to stop
Writing PID to hydro_server.9390.pid
D, [2016-02-18T09:32:18.577129 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:32:18.579526 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"configuration", "filter"=>{"key"=>"plant_code"}}
D, [2016-02-18T09:32:18.580614 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000879s
D, [2016-02-18T09:32:18.580902 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:32:18.584358 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"plant_types", "filter"=>{}}
D, [2016-02-18T09:32:18.585525 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000916s
D, [2016-02-18T09:32:18.585793 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:32:18.587638 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | STARTED | {"find"=>"mesurements", "filter"=>{}}
D, [2016-02-18T09:32:18.588605 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.find | SUCCEEDED | 0.000775s
D, [2016-02-18T09:32:18.589306 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.insert | STARTED | {"insert"=>"mesurements", "documents"=>[{:_id=>"56c5b9d2c4b32d2d65edacb9", :order=>0, :type=>"ELECTRICAL_CONDUC_HAND", :name=>"Conductividad elÃ©ctrica"}, {:_id=>"56c5b9d2c4b32d2d65edacba", :order=>1, :type=>"PH", :name=>"PH"}, {:_id=>"56c5b9d2c4b32d2d...
D, [2016-02-18T09:32:18.604270 #11621] DEBUG -- : MONGODB | 127.0.0.1:27017 | rubyponia.insert | SUCCEEDED | 0.014700999999999999s
D, [2016-02-18T09:32:18.604920 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:32:18.607113 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
D, [2016-02-18T09:32:18.610628 #11621] DEBUG -- : MONGODB | Adding 127.0.0.1:27017 to the cluster.
Exiting!
/Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/schedulerManager.rb:7:in `initialize': wrong number of arguments (1 for 2) (ArgumentError)
	from ./lib/config.ru:36:in `new'
	from ./lib/config.ru:36:in `block (2 levels) in <main>'
	from /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/implementation.rb:7:in `call'
	from /Users/jbochard/Documents/workspace/hydroponics/hydro_server/lib/services/implementation.rb:7:in `register'
	from ./lib/config.ru:28:in `block in <main>'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `instance_eval'
	from /Library/Ruby/Gems/2.0.0/gems/rack-1.6.4/lib/rack/builder.rb:55:in `initialize'
	from ./lib/config.ru:1:in `new'
	from ./lib/config.ru:1:in `<main>'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `eval'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/rack/adapter/loader.rb:33:in `load'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:182:in `load_rackup_config'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/controllers/controller.rb:72:in `start'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:200:in `run_command'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/lib/thin/runner.rb:156:in `run!'
	from /Library/Ruby/Gems/2.0.0/gems/thin-1.6.4/bin/thin:6:in `<top (required)>'
	from /usr/local/bin/thin:23:in `load'
	from /usr/local/bin/thin:23:in `<main>'
